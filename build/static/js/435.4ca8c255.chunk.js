"use strict";(self.webpackChunkapertures=self.webpackChunkapertures||[]).push([[435],{6786:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(885),a=n(2791),s=n(1087),o=n(9470),c=n(5772),i=function(e){return e.join("/").replace(/\/\/+/g,"/")},l=/^:\w+$/,u=function(e){return"*"===e};function h(e,t){var n=e.split("/"),r=n.length;return n.some(u)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!u(e)})).reduce((function(e,t){return l.test(t)?e+3:""===t?e+1:e+10}),r)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.forEach((function(e,a){var s;if("string"!==typeof e.path&&!e.index&&!(null===(s=e.children)||void 0===s?void 0:s.length))throw new Error("useBreadcrumbs: `path` or `index` must be provided in every route object");if(e.path&&e.index)throw new Error("useBreadcrumbs: `path` and `index` cannot be provided at the same time");var o={relativePath:e.path||"",childrenIndex:a,route:e};if("/"===o.relativePath.charAt(0)){if(!o.relativePath.startsWith(r))throw new Error("useBreadcrumbs: The absolute path of the child route must start with the parent path");o.relativePath=o.relativePath.slice(r.length)}var c=i([r,o.relativePath]),l=n.concat(o);if(e.children&&e.children.length>0){if(e.index)throw new Error("useBreadcrumbs: Index route cannot have child routes");d(e.children,t,l,c)}t.push({path:c,score:h(c,e.index),routesMeta:l})})),t}var f=Symbol("NO_BREADCRUMB"),m=function(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[-_\s]+/g," ").replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},p=function(e){var t=e.breadcrumb,n=e.match,r=e.location,s=e.props,o=Object.assign({match:n,location:r,key:n.pathname},s||{});return Object.assign(Object.assign({},o),{breadcrumb:"string"===typeof t?(0,a.createElement)("span",{key:o.key},t):a.createElement(t,Object.assign({},o))})},v=function(e){var t,n=e.currentSection,r=e.disableDefaults,a=e.excludePaths,s=e.defaultFormatter,c=e.location,i=e.pathSection,l=e.branches;return a&&a.some((function(e){return null!=(0,o.LX)({path:e,end:!0},i)}))?f:(l.some((function(e){var a=e.path,l=e.routesMeta,u=l[l.length-1].route,h=u.breadcrumb;if(!h&&u.index){var d=l[l.length-2];d&&d.route.breadcrumb&&(h=d.route.breadcrumb)}var v=u.caseSensitive,j=u.props,x=(0,o.LX)({path:a,end:!0,caseSensitive:v},i);return x&&null===h?(t=f,!0):!!x&&(!h&&r?(t=f,!0):(t=p({breadcrumb:h||(s?s(n):m(n)),match:Object.assign(Object.assign({},x),{route:u}),location:c,props:j}),!0))})),t||(r?f:function(e){var t=e.currentSection,n=e.location,r=e.pathSection,a=e.defaultFormatter,s=(0,o.LX)({end:!0,path:r},r);return p({breadcrumb:a?a(t):m(t),match:s,location:n})}({pathSection:i,currentSection:"/"===i?"Home":n,location:c,defaultFormatter:s})))},j=function(e){var t=e.routes,n=e.location,r=e.options,a=void 0===r?{}:r,s=n.pathname,o=function(e){return e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(d(t)),c=[];return s.split("?")[0].split("/").reduce((function(e,t,r){var s=t?"".concat(e,"/").concat(t):"/";if("/"===s&&0!==r)return"";var i=v(Object.assign({currentSection:t,location:n,pathSection:s,branches:o},a));return i!==f&&c.push(i),"/"===s?"":s}),""),c};c.AW;var x=n(184),g=function(){var e,t,n=j({routes:e||[],location:(0,c.TH)(),options:t});return(0,x.jsx)("section",{className:"m-b-40",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("nav",{className:"breadcrumb_wrapper",children:n.map((function(e){var t=e.match,n=e.breadcrumb;return(0,x.jsx)(s.rU,{to:t.pathname,children:n},t.pathname)}))})})})})},b=function(e){var t=e.hero_title,n=e.hero_subtitle,s=e.hero_img,o=(0,a.useState)({}),c=(0,r.Z)(o,2),i=c[0],l=c[1];(0,a.useEffect)((function(){if(void 0!==s){var e="".concat("https://aperturesdata.wpengine.com","/wp-json/wp/v2/media/")+s;fetch(e).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){l(e.source_url)})).catch((function(e){console.log(e)}))}}),[s]);var u=(0,a.useState)(!1),h=(0,r.Z)(u,2),d=h[0],f=h[1];return(0,a.useEffect)((function(){t&&n&&s&&f(!0)}),[i]),d?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("section",{children:(0,x.jsxs)("div",{className:"hero-section",children:[(0,x.jsx)("div",{className:"hero-section__caption",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-xl-6",children:(0,x.jsx)("h2",{children:t})}),(0,x.jsx)("div",{className:"col-xl-6",children:(0,x.jsx)("p",{children:n})})]})})}),(0,x.jsx)("div",{className:"hero-section__poster",children:(0,x.jsx)("img",{src:i,alt:"",loading:"lazy"})})]})}),(0,x.jsx)(g,{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("section",{children:(0,x.jsx)("div",{className:"hero-section hero-section2"})}),(0,x.jsx)(g,{})]})}},435:function(e,t,n){n.r(t);var r=n(1413),a=n(885),s=n(2791),o=n(5772),c=n(1087),i=n(6786),l=n(5717),u=(n(3321),n(1888)),h=n(184);t.default=function(){var e=(0,o.UO)().category,t=(0,s.useState)([]),n=(0,a.Z)(t,2),d=n[0],f=n[1];(0,s.useEffect)((function(){var e=[];fetch("".concat("https://aperturesdata.wpengine.com","/wp-json/wp/v2/pages/158")).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(t){e.push(t),f(e)})).catch((function(e){console.log(e)}))}),[]);var m=(0,s.useState)([]),p=(0,a.Z)(m,2),v=p[0],j=p[1];(0,s.useEffect)((function(){fetch("".concat("https://aperturesdata.wpengine.com","/wp-json/my/v1/PhotographyCategoryData")).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){j(e)})).catch((function(e){console.log(e)}))}),[]);var x=(0,s.useState)(!1),g=(0,a.Z)(x,2),b=g[0],w=g[1],N=(0,s.useState)([]),y=(0,a.Z)(N,2),_=y[0],S=y[1],k=(0,s.useState)(null),T=(0,a.Z)(k,2),Z=T[0],E=T[1];(0,s.useEffect)((function(){if(Z&&!b){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},body:JSON.stringify({slug:e})},n="".concat("https://aperturesdata.wpengine.com","/wp-json/my/v1/photography_slug");fetch(n,t).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){S(e)})).catch((function(e){console.error("Authenticated request error:",e)}))}}),[Z,b,e]),(0,s.useEffect)((function(){!function(){if(!Z&&!b){var e="".concat("https://aperturesdata.wpengine.com","/wp-json/jwt-auth/v1/token");fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"aperturesdata",password:"Tessa@123"})}).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){E(e.token),w(!1)})).catch((function(e){console.error("Token fetch error:",e),w(!0)}))}}()}),[]);var O=(0,s.useState)(),P=(0,a.Z)(O,2),C=P[0],A=P[1],F=(0,s.useState)(),B=(0,a.Z)(F,2),H=B[0],z=B[1],L=(0,s.useState)(!1),M=(0,a.Z)(L,2),I=M[0],U=M[1];function W(e){var t=e.className,n=e.style,a=e.onClick;return(0,h.jsx)("div",{className:t,style:(0,r.Z)((0,r.Z)({},n),{},{display:"block"}),onClick:a})}function D(e){var t=e.className,n=e.style,a=e.onClick;return(0,h.jsx)("div",{className:t,style:(0,r.Z)((0,r.Z)({},n),{},{display:"block"}),onClick:a})}var R={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,prevArrow:(0,h.jsx)(D,{}),nextArrow:(0,h.jsx)(W,{}),centerMode:!0,focusOnSelect:!0,variableWidth:!0};return(0,h.jsxs)(h.Fragment,{children:[v.map((function(t,n){var r=t.slug,a=t.name,s=t.seotitle,o=t.seodescription;if(r===e){var c=s||"".concat(a," - Apertures");return(0,h.jsxs)(u.ql,{children:[(0,h.jsx)("title",{children:c}),(0,h.jsx)("meta",{name:"description",content:o||""})]},n)}return null})),d.map((function(e,t){var n=e.acf;return(0,h.jsx)(i.Z,{hero_title:n.hero_title,hero_subtitle:n.hero_subtitle,hero_img:n.hero_background_image},t)})),(0,h.jsx)("section",{children:d.map((function(e,t){var n=e.content;return(0,h.jsx)("div",{className:"",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-12",children:(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:n.rendered}})})})})},t)}))}),(0,h.jsx)("section",{className:"photographySection m-b-40",children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-12",children:(0,h.jsxs)("ul",{className:"filter_list",children:[(0,h.jsx)("li",{children:(0,h.jsx)("strong",{children:"FILTER+"})}),v.map((function(e,t){var n=e.name,r=e.slug;return 0!==e.count?(0,h.jsx)("li",{children:(0,h.jsx)(c.OL,{to:"/photography/".concat(r),children:n})},t):null}))]})})}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-12",children:(0,h.jsx)("div",{className:"gallery_container",children:0!==_.length?_.map((function(e,t){var n=e.featimg;return(0,h.jsx)("img",{src:n,onClick:function(){return e=t,U(!0),void C.slickGoTo(e);var e},alt:"",loading:"lazy"},t)})):(0,h.jsx)("h4",{children:"No data found"})})})})]})}),(0,h.jsx)("section",{className:"lightBox",children:(0,h.jsx)("div",{className:"mylightbox ".concat(I?"showLightbox":""),children:(0,h.jsx)("section",{className:"lightboxWrapper",children:(0,h.jsxs)("div",{className:"lightbox_wrapper",children:[(0,h.jsx)("img",{className:"lightbox_close mb-3",alt:"",loading:"lazy",src:"".concat("https://aperturesdata.wpengine.com","/wp-content/uploads/2022/12/close.svg"),width:25,onClick:function(){U(!1)}}),(0,h.jsx)("div",{className:"photo_slider",children:(0,h.jsx)(l.Z,(0,r.Z)((0,r.Z)({},{dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1,prevArrow:!1,nextArrow:!1}),{},{asNavFor:H,ref:function(e){return A(e)},children:_.map((function(e,t){var n=e.title,r=e.featimg;return(0,h.jsxs)("div",{children:[(0,h.jsx)("img",{src:r,alt:"",loading:"lazy",className:"img-fluid photo_slider_images"}),(0,h.jsx)("p",{className:"photo_slider_title",children:n})]},t)}))}))}),(0,h.jsx)("div",{className:"nav_slider",children:(0,h.jsx)(l.Z,(0,r.Z)((0,r.Z)({},R),{},{asNavFor:C,ref:function(e){return z(e)},children:_.map((function(e,t){var n=e.featimg;return(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:n,alt:"",loading:"lazy",className:"img-fluid nav_slider_images"})},t)}))}))})]})})})})]})}},3321:function(){}}]);
//# sourceMappingURL=435.4ca8c255.chunk.js.map